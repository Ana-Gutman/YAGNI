# ADR 7 - Pipes and Filters para el procesamiento en BackOffice y Cocina
**Estado:** Rechazada

## Contexto
EL modulo backoffice es el encargado de los ABM de la mayoria de las entidades en el sistema, por lo cual requiere un procesamiento secuencial de múltiples etapas para la validación de cambios en los mismos. 
En la cocina, el procesamiento de pedidos también necesita seguir un flujo modular de preparación. Ambos se beneficiarían de una estructura flexible que permita modificar fácilmente las etapas de procesamiento sin afectar otras partes del sistema.

## Decisión
No implementar el patrón de diseño *Pipes and Filters* para el procesamiento de pedidos en las cocinas ni manipulación de entidades en el backoffice.

Este patrón ofrece una arquitectura modular que facilita la extensión o modificación de los flujos de trabajo de procesamiento. Sin embargo, debido a la naturaleza de las interacciones en tiempo real del sistema, esta opción fue rechazada por los siguientes motivos:
  - **Complejidad y latencia:** La implementación de *Pipes and Filters* introduce una serie de etapas de procesamiento que pueden generar sobrecarga en los tiempos de respuesta. En sistemas donde se requiere procesamiento en tiempo real, como la cocina o el control de inventarios, la latencia añadida por la descomposición en múltiples pasos puede afectar negativamente la experiencia de usuario y la eficiencia operativa.
  - **Dependencias entre etapas:** Este patrón aumenta la complejidad en la gestión de las dependencias entre las diferentes etapas del proceso. En contextos con interacciones en tiempo real, como las notificaciones de los refrigeradores o el procesamiento de pedidos en cocina, estas dependencias pueden complicar la sincronización y la integración, lo que conlleva a un mayor esfuerzo de desarrollo y mantenimiento.
  - **No adecuado para operaciones en tiempo real:** En este proyecto, donde el rendimiento y la rapidez son clave para la eficiencia del sistema, la implementación de múltiples filtros secuenciales puede resultar ineficiente. Las necesidades de alta disponibilidad y baja latencia no se alinean bien con un enfoque que depende de la ejecución en múltiples fases.

## Consecuencias

- **Beneficios:**
  - Mantener la modularidad del sistema, permitiendo la incorporación o modificación de filtros de procesamiento sin afectar otras partes del sistema.
  - Facilitar la extensión de los flujos de trabajo en el futuro, especialmente si se requiere modificar las validaciones o agregar nuevas etapas.
  
- **Costos:**
  - La implementación del patrón *Pipes and Filters* podría añadir una sobrecarga significativa debido a la latencia inherente al procesamiento en varias etapas, lo cual es inapropiado para escenarios donde la velocidad de procesamiento es crítica.
  - Aumenta la complejidad operativa, especialmente en el manejo de dependencias y la sincronización entre etapas, lo que incrementa los costos de desarrollo, mantenimiento y escalabilidad del sistema.
